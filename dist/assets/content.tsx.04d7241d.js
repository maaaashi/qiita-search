import{r as f,j as d,R as b,a as E}from"./jsx-runtime.3c71404e.js";const q=()=>(f.exports.useEffect(()=>{document.addEventListener("mouseup",function(y){var p;if(!window)return;const l=(p=window.getSelection())==null?void 0:p.toString();if(l){if(!document.getElementById("qiita-search-button")){const i=document.createElement("button");i.id="qiita-search-button",i.onclick=async()=>{const t=document.createElement("div");t.id="qiita-search-box",t.draggable=!0;const r=document.createElement("header");r.id="qiita-search-box-header";const n=document.createElement("button");n.id="qiita-search-box-close-button",n.innerText="x",n.onclick=()=>{document.getElementById("qiita-search-box").remove()},r.appendChild(n),t.appendChild(r);const u=new URL("https://qiita.com/api/v2/items"),a=new URLSearchParams;a.append("page","1"),a.append("per_page","10"),a.append("query",`title:${l}`),u.search=a.toString();const m=await(await fetch(u.toString())).json();if(m.length===0){const e=document.createElement("p");e.innerText="No result...",t.appendChild(e)}else m.map(e=>{const o=document.createElement("a");o.href=e.url,o.innerText=e.title,o.target="_blank",t.appendChild(o)});document.body.appendChild(t);const h=e=>{console.log("dragStart")},g=e=>{e.clientX===0&&e.clientY===0||(t.style.top=e.clientY+"px",t.style.left=e.clientX+"px")},x=e=>{t.style.top=e.clientY+"px",t.style.left=e.clientX+"px"};t.addEventListener("dragstart",h,!1),t.addEventListener("drag",g,!1),t.addEventListener("dragend",x,!1)},document.body.appendChild(i)}}else{const c=document.getElementById("qiita-search-button");c&&c.remove()}})},[]),d("div",{})),s=document.createElement("div");s.id="qiita-search";document.body.append(s);b.render(d(E.StrictMode,{children:d(q,{})}),s);
